name: $(BuildDefinitionName)_$(Date:yyyyMMdd)$(Rev:.rr)

phases:
- phase: 'test'
  queue:
    name: 'Hosted Linux Preview'
    parallel: 3
    matrix:
      docs:
        toxenv: 'docs'
      lint:
        toxenv: 'fix-lint'
      packageDescription:
        toxenv: 'package-description'

  steps:
  - script: 'python -m pip install -U tox setuptools'
    displayName: install tox

  - script: 'tox -e $(toxenv)'
    displayName: run tox

